<!doctype html>
<html lang="es">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<title>Mapa interactivo</title>

<style>
body{
  font-family:Arial,Helvetica,sans-serif;
  background:#0f172a;
  color:white;
  text-align:center;
  margin:0;
}

h1{margin:12px;font-size:22px}

#contenedor{
  position:relative;
  width:95%;
  max-width:900px;
  margin:auto;
}

#mapa{
  width:100%;
  display:block;
  border-radius:14px;
}

/* zonas clicables */
.zona{
  position:absolute;
  cursor:pointer;
  border-radius:12px;
}

/* feedback */
#mensaje{
  margin-top:12px;
  font-size:22px;
  font-weight:bold;
  min-height:30px;
}
.correcto{color:#22c55e}
.error{color:#ef4444}

</style>
</head>

<body>

<h1 id="objetivo">Encuentra: PISTAS DEPORTIVAS</h1>

<div id="contenedor">
  <img src="mapa.jpg" id="mapa">

  <!-- ZONA 1 PISTAS -->
  <div class="zona" data-lugar="pistas"
       style="left:6%;top:18%;width:42%;height:32%"></div>

  <!-- ZONA 2 ENTRADA -->
  <div class="zona" data-lugar="entrada"
       style="left:45%;top:66%;width:10%;height:22%"></div>

  <!-- ZONA 3 CLASE -->
  <div class="zona" data-lugar="clase"
       style="left:56%;top:60%;width:6%;height:10%"></div>
</div>

<div id="mensaje"></div>

<script>
const objetivos=["pistas","entrada","clase"];
let actual=0;

function hablar(texto){
  speechSynthesis.cancel();
  const u=new SpeechSynthesisUtterance(texto);
  u.lang="es-ES";
  speechSynthesis.speak(u);
}

function cambiarObjetivo(){
  const nombres={
    pistas:"PISTAS DEPORTIVAS",
    entrada:"ENTRADA",
    clase:"CLASE"
  };
  document.getElementById("objetivo").textContent=
  "Encuentra: "+nombres[objetivos[actual]];
  hablar(nombres[objetivos[actual]]);
}

document.querySelectorAll(".zona").forEach(z=>{
  z.onclick=()=>{
    const elegido=z.dataset.lugar;
    const mensaje=document.getElementById("mensaje");

    if(elegido===objetivos[actual]){
      mensaje.textContent="Â¡BIEN!";
      mensaje.className="correcto";
      hablar("muy bien");

      actual++;
      if(actual>=objetivos.length){
        setTimeout(()=>{
          mensaje.textContent="ACTIVIDAD TERMINADA";
          hablar("actividad terminada");
        },800);
      }else{
        setTimeout(()=>{
          mensaje.textContent="";
          cambiarObjetivo();
        },900);
      }
    }else{
      mensaje.textContent="Prueba otra vez";
      mensaje.className="error";
      hablar("prueba otra vez");
    }
  };
});

cambiarObjetivo();
</script>

</body>
</html>
